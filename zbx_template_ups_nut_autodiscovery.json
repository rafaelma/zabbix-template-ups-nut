{
    "zabbix_export": {
        "version": "6.2",
        "date": "2023-08-06T14:02:56Z",
        "template_groups": [
            {
                "uuid": "3dcd5bbe90534f9e8eb5c2d53756af63",
                "name": "Templates/Power"
            }
        ],
        "templates": [
            {
                "uuid": "7abf9b47f81c4fb4a14036ad2d972cbd",
                "template": "Template-UPS-NUT-autodiscovery",
                "name": "Template-UPS-NUT-autodiscovery",
                "groups": [
                    {
                        "name": "Templates/Power"
                    }
                ],
                "discovery_rules": [
                    {
                        "uuid": "c925d5ca332841bca81662bdefa5fb9b",
                        "name": "Get list of UPS from {$NUT_MASTER}",
                        "type": "ZABBIX_ACTIVE",
                        "key": "get.ups.nut.autodiscovery[{$NUT_MASTER}]",
                        "delay": "15m",
                        "lifetime": "3d",
                        "item_prototypes": [
                            {
                                "uuid": "3ea79fe5b1d44650a7ae47467c5423b2",
                                "name": "[ {#UPS_NAME} ] - NUT output",
                                "type": "ZABBIX_ACTIVE",
                                "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]",
                                "history": "1d",
                                "trends": "0",
                                "value_type": "TEXT",
                                "preprocessing": [
                                    {
                                        "type": "STR_REPLACE",
                                        "parameters": [
                                            ": ",
                                            ":"
                                        ]
                                    }
                                ],
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "9e5330cc25184e18813311489542fe33",
                                "name": "[ {#UPS_NAME} ] - UPS battery charge low",
                                "type": "DEPENDENT",
                                "key": "ups.battery.charge.low[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "%",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "battery\\.charge\\.low:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "b6f43b3f51fc4eb5b985535ae3e0404b",
                                "name": "[ {#UPS_NAME} ] - UPS battery charge warning",
                                "type": "DEPENDENT",
                                "key": "ups.battery.charge.warning[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "%",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "battery\\.charge\\.warning:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "c6233f4b4424456b9648b23963f29a12",
                                "name": "[ {#UPS_NAME} ] - UPS battery charge",
                                "type": "DEPENDENT",
                                "key": "ups.battery.charge[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "%",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "battery\\.charge:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "1c2d50a2499640ff8f85415dbdf70679",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.battery.charge[{#UPS_NAME}])<{$UPS.CHARGE.CRITICAL.LIMIT}",
                                        "name": "[{#UPS_NAME}] The UPS CHARGE is less than {$UPS.CHARGE.CRITICAL.LIMIT}%",
                                        "priority": "HIGH",
                                        "description": "The UPS charge is less than {$UPS.CHARGE.CRITICAL.LIMIT}%",
                                        "manual_close": "YES"
                                    },
                                    {
                                        "uuid": "2024a98bb84b49bda158a62c2115a0a6",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.battery.charge[{#UPS_NAME}])<{$UPS.CHARGE.WARNING.LIMIT}",
                                        "name": "[{#UPS_NAME}] The UPS CHARGE is less than {$UPS.CHARGE.WARNING.LIMIT}%",
                                        "priority": "WARNING",
                                        "description": "The UPS charge is less than {$UPS.CHARGE.WARNING.LIMIT}%",
                                        "manual_close": "YES",
                                        "dependencies": [
                                            {
                                                "name": "[{#UPS_NAME}] The UPS CHARGE is less than {$UPS.CHARGE.CRITICAL.LIMIT}%",
                                                "expression": "last(/Template-UPS-NUT-autodiscovery/ups.battery.charge[{#UPS_NAME}])<{$UPS.CHARGE.CRITICAL.LIMIT}"
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "uuid": "8fb91393dcda4749bb94d2cd091f67cf",
                                "name": "[ {#UPS_NAME} ] - UPS battery runtime low",
                                "type": "DEPENDENT",
                                "key": "ups.battery.runtime.low[{#UPS_NAME}]",
                                "delay": "0",
                                "units": "s",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "battery\\.runtime\\.low:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "166413a108454ba2b28cbdb9ad8e9d65",
                                "name": "[ {#UPS_NAME} ] - UPS battery runtime",
                                "type": "DEPENDENT",
                                "key": "ups.battery.runtime[{#UPS_NAME}]",
                                "delay": "0",
                                "units": "s",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "battery\\.runtime:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "7e4e1487105f42638c72316a23f49dae",
                                "name": "[ {#UPS_NAME} ] - UPS battery voltage",
                                "type": "DEPENDENT",
                                "key": "ups.battery.voltage[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "V",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "battery\\.voltage:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "bcabb502e6c843ddada344bf52aede50",
                                "name": "[ {#UPS_NAME} ] - UPS input voltage",
                                "type": "DEPENDENT",
                                "key": "ups.input.voltage[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "V",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "input\\.voltage:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "2cc935f66e4b4a5ea8e9bf2db83496df",
                                "name": "[{#UPS_NAME}] - UPS Total kWh last 24H",
                                "type": "CALCULATED",
                                "key": "ups.kwh.last.day[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "kWh",
                                "params": "last(//ups.output.watts.avg.last.day[{#UPS_NAME}])*24/1000",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "927b90a34bfb493babc09591f36716b4",
                                "name": "[{#UPS_NAME}] - UPS Total kWh last hour",
                                "type": "CALCULATED",
                                "key": "ups.kwh.last.hour[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "kWh",
                                "params": "last(//ups.output.watts.avg.last.hour[{#UPS_NAME}])*1/1000",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "f8e5aff814d246788faa3443d19ed4d9",
                                "name": "[{#UPS_NAME}] - UPS Average load last 24H",
                                "type": "CALCULATED",
                                "key": "ups.load.avg.last.day[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "%",
                                "params": "avg(//ups.load[{#UPS_NAME}],#1440)",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "298dc714161f419395b70d7cc7dcdc67",
                                "name": "[{#UPS_NAME}] - UPS Average load last hour",
                                "type": "CALCULATED",
                                "key": "ups.load.avg.last.hour[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "%",
                                "params": "avg(//ups.load[{#UPS_NAME}],#60)",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "9352e98120e4419281e945cd34fe89e5",
                                "name": "[ {#UPS_NAME} ] - UPS Load",
                                "type": "DEPENDENT",
                                "key": "ups.load[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "%",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "ups\\.load:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "5438842f61234b60b66f8f9baa01bec2",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.load[{#UPS_NAME}])>{$UPS.LOAD.CRITICAL.LIMIT}",
                                        "name": "[{#UPS_NAME}] The UPS LOAD is higher than {$UPS.LOAD.CRITICAL.LIMIT}%",
                                        "priority": "HIGH",
                                        "description": "The UPS load is higher than {$UPS.LOAD.CRITICAL.LIMIT}%",
                                        "manual_close": "YES"
                                    },
                                    {
                                        "uuid": "51ebc56042a84c3b9f6c9288a1882064",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.load[{#UPS_NAME}])>{$UPS.LOAD.WARNING.LIMIT}",
                                        "name": "[{#UPS_NAME}] The UPS LOAD is higher than {$UPS.LOAD.WARNING.LIMIT}%",
                                        "priority": "WARNING",
                                        "description": "The UPS load is higher than {$UPS.LOAD.WARNING.LIMIT}%",
                                        "manual_close": "YES",
                                        "dependencies": [
                                            {
                                                "name": "[{#UPS_NAME}] The UPS LOAD is higher than {$UPS.LOAD.CRITICAL.LIMIT}%",
                                                "expression": "last(/Template-UPS-NUT-autodiscovery/ups.load[{#UPS_NAME}])>{$UPS.LOAD.CRITICAL.LIMIT}"
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                "uuid": "26d34a5945bb4180aed154c91245f8d8",
                                "name": "[ {#UPS_NAME} ] - UPS output voltage",
                                "type": "DEPENDENT",
                                "key": "ups.output.voltage[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "V",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "output\\.voltage:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "f6da25808439477fb668147a38dbe32f",
                                "name": "[{#UPS_NAME}] - UPS Average output Watts last 24H",
                                "type": "CALCULATED",
                                "key": "ups.output.watts.avg.last.day[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "W",
                                "params": "avg(//ups.output.watts[{#UPS_NAME}],#1440)",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "a3121f73b10140f797e68cf68f47d8ef",
                                "name": "[{#UPS_NAME}] - UPS Average output Watts last hour",
                                "type": "CALCULATED",
                                "key": "ups.output.watts.avg.last.hour[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "W",
                                "params": "avg(//ups.output.watts[{#UPS_NAME}],#60)",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "d503a12387384b92bc341c23fc16044c",
                                "name": "[{#UPS_NAME}] - UPS output watts",
                                "type": "CALCULATED",
                                "key": "ups.output.watts[{#UPS_NAME}]",
                                "value_type": "FLOAT",
                                "units": "W",
                                "params": "last(//ups.realpower.nominal[{#UPS_NAME}])*last(//ups.load[{#UPS_NAME}])/100",
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "550b7a8658454ed690b207fd319cbfae",
                                "name": "[ {#UPS_NAME} ] - UPS realpower nominal",
                                "type": "DEPENDENT",
                                "key": "ups.realpower.nominal[{#UPS_NAME}]",
                                "delay": "0",
                                "value_type": "FLOAT",
                                "units": "W",
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "ups\\.realpower\\.nominal:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    },
                                    {
                                        "type": "DISCARD_UNCHANGED_HEARTBEAT",
                                        "parameters": [
                                            "86400"
                                        ]
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ]
                            },
                            {
                                "uuid": "8afae8c5c56d488e94be79200b6507e9",
                                "name": "[ {#UPS_NAME} ] - UPS status",
                                "type": "DEPENDENT",
                                "key": "ups.status[{#UPS_NAME}]",
                                "delay": "0",
                                "trends": "0",
                                "value_type": "CHAR",
                                "valuemap": {
                                    "name": "UPS status"
                                },
                                "preprocessing": [
                                    {
                                        "type": "REGEX",
                                        "parameters": [
                                            "ups\\.status:([a-zA-Z0-9,.;:\\-\\+\\(\\) ]+)",
                                            "\\1"
                                        ],
                                        "error_handler": "DISCARD_VALUE"
                                    }
                                ],
                                "master_item": {
                                    "key": "get.ups.nut.output[{$NUT_MASTER},{#UPS_NAME}]"
                                },
                                "tags": [
                                    {
                                        "tag": "component",
                                        "value": "power"
                                    }
                                ],
                                "trigger_prototypes": [
                                    {
                                        "uuid": "27c9de8f54084045aaf96a4f2182fa31",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.status[{#UPS_NAME}])=\"OB\" or last(/Template-UPS-NUT-autodiscovery/ups.status[{#UPS_NAME}])=\"OB DISCHRG\"",
                                        "name": "[{#UPS_NAME}] The UPS reports that is On Battery and Discharging",
                                        "priority": "HIGH",
                                        "description": "UPS status = OB or OB DISCHRG\nOn Battery. The UPS is using energy from its battery. The battery is discharging.",
                                        "manual_close": "YES"
                                    },
                                    {
                                        "uuid": "a42a33062cd1442189e4ca7eaec55ac2",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.status[{#UPS_NAME}])=\"OL CHRG\"",
                                        "name": "[{#UPS_NAME}] The UPS reports that is On Line and charging the battery",
                                        "priority": "WARNING",
                                        "description": "UPS status = OL CHRG\nOn Line. The UPS is charging the battery",
                                        "manual_close": "YES"
                                    },
                                    {
                                        "uuid": "d8b559f6af4d43beae78e1d05602e362",
                                        "expression": "last(/Template-UPS-NUT-autodiscovery/ups.status[{#UPS_NAME}])=\"RB\"",
                                        "name": "[{#UPS_NAME}] The UPS reports that the battery should be replaced",
                                        "priority": "HIGH",
                                        "description": "UPS status = RB \nReplace battery. The UPS reports that its battery or batteries should be replaced.",
                                        "manual_close": "YES"
                                    }
                                ]
                            }
                        ],
                        "graph_prototypes": [
                            {
                                "uuid": "ec1e925c9d0f47aaa2362c8d2b1e99a5",
                                "name": "[{#UPS_NAME}] - UPS Average load last 24H",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "FF6F00",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.load.avg.last.day[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "01378f37647b4afe91e05e4a82635d39",
                                "name": "[{#UPS_NAME}] - UPS Average load last hour",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "FFB300",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.load.avg.last.hour[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "19347a919bb1468a9a4ef2ce9c4ae0b4",
                                "name": "[{#UPS_NAME}] - UPS Average output Watts last 24H",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "D84315",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.output.watts.avg.last.day[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "f066f84593ed4944bef5d862e975cb56",
                                "name": "[{#UPS_NAME}] - UPS Average output Watts last hour",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "FF5722",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.output.watts.avg.last.hour[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "bc2d3bbc177d42c5b2eb05bd51de3ba8",
                                "name": "[ {#UPS_NAME} ] - UPS battery runtime",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "C0CA33",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.battery.runtime[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "fd983740f2cd47a198470b71d55dd1d4",
                                "name": "[ {#UPS_NAME} ] - UPS Load",
                                "show_work_period": "NO",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "FFD54F",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.load[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "3f6a982a8ecb4a9392ce187f8e322c36",
                                "name": "[{#UPS_NAME}] - UPS output watts",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "FF8A65",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.output.watts[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "eca08818f2a74cb0ad047aba9a3fc068",
                                "name": "[{#UPS_NAME}] - UPS Total kWh last 24H",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "7B1FA2",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.kwh.last.day[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            },
                            {
                                "uuid": "6f0d0a8bad6b4e4ebd65c6d02419a608",
                                "name": "[{#UPS_NAME}] - UPS Total kWh last hour",
                                "graph_items": [
                                    {
                                        "drawtype": "GRADIENT_LINE",
                                        "color": "BA68C8",
                                        "calc_fnc": "ALL",
                                        "item": {
                                            "host": "Template-UPS-NUT-autodiscovery",
                                            "key": "ups.kwh.last.hour[{#UPS_NAME}]"
                                        }
                                    }
                                ]
                            }
                        ],
                        "lld_macro_paths": [
                            {
                                "lld_macro": "{#UPS_NAME}",
                                "path": "$.1"
                            }
                        ],
                        "preprocessing": [
                            {
                                "type": "CSV_TO_JSON",
                                "parameters": [
                                    "",
                                    "",
                                    "0"
                                ]
                            }
                        ]
                    }
                ],
                "tags": [
                    {
                        "tag": "class",
                        "value": "power"
                    },
                    {
                        "tag": "target",
                        "value": "nut-ups"
                    }
                ],
                "macros": [
                    {
                        "macro": "{$NUT_MASTER}",
                        "value": "127.0.0.1",
                        "description": "NUT master server"
                    },
                    {
                        "macro": "{$UPS.CHARGE.CRITICAL.LIMIT}",
                        "value": "50",
                        "description": "UPS charge critical limit"
                    },
                    {
                        "macro": "{$UPS.CHARGE.WARNING.LIMIT}",
                        "value": "80",
                        "description": "UPS charge warning limit"
                    },
                    {
                        "macro": "{$UPS.LOAD.CRITICAL.LIMIT}",
                        "value": "90",
                        "description": "UPS load critical limit"
                    },
                    {
                        "macro": "{$UPS.LOAD.WARNING.LIMIT}",
                        "value": "80",
                        "description": "UPS load warning limit"
                    }
                ],
                "dashboards": [
                    {
                        "uuid": "4d1a9c9524044a7bb3ea8293a40db491",
                        "name": "UPS dashboard",
                        "display_period": "60",
                        "pages": [
                            {
                                "widgets": [
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS Average load last 24H",
                                        "y": "10",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS Average load last 24H"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS Average load last hour",
                                        "y": "5",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS Average load last hour"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS Average output Watts last 24H",
                                        "x": "8",
                                        "y": "10",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS Average output Watts last 24H"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS Average Watts last hour",
                                        "x": "8",
                                        "y": "5",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS Average output Watts last hour"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[ {#UPS_NAME} ] - UPS battery runtime",
                                        "x": "16",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[ {#UPS_NAME} ] - UPS battery runtime"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[ {#UPS_NAME} ] - UPS Load",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[ {#UPS_NAME} ] - UPS Load"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS output watts",
                                        "x": "8",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS output watts"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS Total kWh last 24H",
                                        "x": "16",
                                        "y": "10",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS Total kWh last 24H"
                                                }
                                            }
                                        ]
                                    },
                                    {
                                        "type": "GRAPH_PROTOTYPE",
                                        "name": "[{#UPS_NAME}] - UPS Total kWh last hour",
                                        "x": "16",
                                        "y": "5",
                                        "width": "8",
                                        "height": "5",
                                        "fields": [
                                            {
                                                "type": "INTEGER",
                                                "name": "columns",
                                                "value": "1"
                                            },
                                            {
                                                "type": "GRAPH_PROTOTYPE",
                                                "name": "graphid",
                                                "value": {
                                                    "host": "Template-UPS-NUT-autodiscovery",
                                                    "name": "[{#UPS_NAME}] - UPS Total kWh last hour"
                                                }
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    }
                ],
                "valuemaps": [
                    {
                        "uuid": "e02c3ba6f54a4cdab7de400ad7597785",
                        "name": "UPS status",
                        "mappings": [
                            {
                                "value": "ALARM",
                                "newvalue": "UPS requires intervention"
                            },
                            {
                                "value": "BOOST",
                                "newvalue": "Boosting voltage"
                            },
                            {
                                "value": "BYPASS",
                                "newvalue": "Bypassing battery"
                            },
                            {
                                "value": "CAL",
                                "newvalue": "Calibrating"
                            },
                            {
                                "value": "CHRG",
                                "newvalue": "Battery is charging"
                            },
                            {
                                "value": "COMM",
                                "newvalue": "Attachment Daemon has contact"
                            },
                            {
                                "value": "DISCHRG",
                                "newvalue": "Battery is discharging"
                            },
                            {
                                "value": "FSD",
                                "newvalue": "Forced Shutdown"
                            },
                            {
                                "value": "LB",
                                "newvalue": "Low Battery"
                            },
                            {
                                "value": "NOCOMM",
                                "newvalue": "Attachment Daemon has no contact"
                            },
                            {
                                "value": "OB",
                                "newvalue": "On Battery"
                            },
                            {
                                "value": "OFF",
                                "newvalue": "Off"
                            },
                            {
                                "value": "OL",
                                "newvalue": "OnLine"
                            },
                            {
                                "value": "OVER",
                                "newvalue": "Overloaded"
                            },
                            {
                                "value": "RB",
                                "newvalue": "Replace battery"
                            },
                            {
                                "value": "TEST",
                                "newvalue": "Under test"
                            },
                            {
                                "value": "TRIM",
                                "newvalue": "Reducing voltage"
                            }
                        ]
                    }
                ]
            }
        ]
    }
}